<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <!-- ════════════════════════════════════════════════════════════════ -->
    <!-- 📄 الرأس - معلومات الصفحة الأساسية والاتصال بالموارد الخارجية -->
    <!-- ════════════════════════════════════════════════════════════════ -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🍖 لحوم الرياض - نظام الطلبات</title>
    
    <!-- 🎨 استدعاء ملف CSS الخارجي للأنماط -->
    <link rel="stylesheet" href="style.css">
    
    <!-- 📱 PWA Manifest للتطبيق -->
    <link rel="manifest" href="manifest.json">
    
</head>
<body>
    <!-- ════════════════════════════════════════════════════════════════ -->
    <!-- 🎯 الرأس (Header) - عنوان الموقع والشعار -->
    <!-- ════════════════════════════════════════════════════════════════ -->
    
    <div class="container">
        <div class="header">
            <h1>🍖 لحوم الرياض</h1>
            <p>نظام إدارة الطلبات والمبيعات</p>
        </div>

        <!-- ════════════════════════════════════════════════════════════════ -->
        <!-- 📊 لوحة الإحصائيات (Stats Dashboard) -->
        <!-- ════════════════════════════════════════════════════════════════ -->
        
        <div class="stats">
            <!-- إجمالي الطلبات -->
            <div class="stat-box">
                <h3>إجمالي الطلبات</h3>
                <div class="value" id="totalOrders">0</div>
            </div>
            
            <!-- إجمالي المبيعات (الإيرادات) -->
            <div class="stat-box">
                <h3>إجمالي المبيعات</h3>
                <div class="value" id="totalRevenue">0</div>
            </div>
            
            <!-- متوسط الطلب -->
            <div class="stat-box">
                <h3>متوسط الطلب</h3>
                <div class="value" id="averageOrder">0</div>
            </div>
            
            <!-- الطلبات المعلقة (قيد المعالجة) -->
            <div class="stat-box">
                <h3>الطلبات المعلقة</h3>
                <div class="value" id="pendingOrders">0</div>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════════════════ -->
        <!-- ⚙️ لوحة التحكم (Controls) - الأزرار والبحث -->
        <!-- ════════════════════════════════════════════════════════════════ -->
        
        <div class="controls">
            <!-- 🔘 زر إضافة طلب جديد -->
            <button class="btn-primary" id="addOrderBtn">➕ طلب جديد</button>
            
            <!-- 🔍 حقل البحث -->
            <input type="text" id="searchInput" placeholder="بحث برقم الطلب أو الهاتف...">
            
            <!-- 🔽 قائمة تصفية الحالات -->
            <select id="filterStatus">
                <option value="">جميع الحالات</option>
                <option value="قيد المعالجة">قيد المعالجة</option>
                <option value="تم التوصيل">تم التوصيل</option>
                <option value="ملغي">ملغي</option>
            </select>
            
            <!-- 🗑️ زر حذف جميع البيانات -->
            <button class="btn-danger" id="deleteAllBtn">🗑️ حذف البيانات</button>
            
            <!-- 🌙 زر تبديل الوضع الليلي (Dark Mode) -->
            <button class="btn-primary" id="darkModeToggle">🌙 وضع غامق</button>
        </div>

        <!-- ════════════════════════════════════════════════════════════════ -->
        <!-- 📋 جدول الطلبات (Orders Table) -->
        <!-- ════════════════════════════════════════════════════════════════ -->
        
        <div class="table-wrapper">
            <table>
                <!-- رأس الجدول (العناوين) -->
                <thead>
                    <tr>
                        <th>رقم الطلب</th>
                        <th>العميل</th>
                        <th>الهاتف</th>
                        <th>النوع</th>
                        <th>الكمية</th>
                        <th>السعر</th>
                        <th>الإجمالي</th>
                        <th>الخدمة</th>
                        <th>الحالة</th>
                        <th>التاريخ</th>
                    </tr>
                </thead>
                
                <!-- جسم الجدول (البيانات) -->
                <tbody id="ordersTableBody">
                    <tr><td colspan="10" class="no-data">لا توجد بيانات</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- ════════════════════════════════════════════════════════════════ -->
    <!-- 🎯 المودال (Modal) - نافذة إضافة طلب جديد -->
    <!-- ════════════════════════════════════════════════════════════════ -->
    
    <div id="orderModal" class="modal">
        <div class="modal-content">
            <h2>إضافة طلب جديد</h2>
            
            <!-- 📝 نموذج إدخال بيانات الطلب -->
            <form id="orderForm">
                <!-- 👤 حقل اسم العميل -->
                <div class="form-group">
                    <label>اسم العميل *</label>
                    <input type="text" id="customerName" required>
                </div>
                
                <!-- 📞 حقل رقم الهاتف -->
                <div class="form-group">
                    <label>رقم الهاتف *</label>
                    <input type="tel" id="customerPhone" required>
                </div>
                
                <!-- 🐑 حقل نوع الماشية -->
                <div class="form-group">
                    <label>نوع الماشية *</label>
                    <select id="animalType" required>
                        <option value="">اختر النوع</option>
                    </select>
                    <!-- وصف الحيوان المختار -->
                    <div id="animalDescBox" class="animal-desc"></div>
                </div>
                
                <!-- 📅 حقل عمر الحيوان -->
                <div class="form-group">
                    <label>العمر *</label>
                    <select id="animalAge" required>
                        <option value="">اختر العمر</option>
                    </select>
                </div>
                
                <!-- 🔢 حقل الكمية -->
                <div class="form-group">
                    <label>الكمية (عدد الحيوانات) *</label>
                    <input type="number" id="quantity" min="1" required>
                </div>
                
                <!-- 💵 حقل السعر للوحدة (قراءة فقط) -->
                <div class="form-group">
                    <label>السعر للوحدة (ريال) * (قراءة فقط)</label>
                    <input type="number" id="pricePerUnit" readonly>
                </div>
                
                <!-- 💰 عرض الإجمالي -->
                <div class="form-group">
                    <label>الإجمالي (ريال)</label>
                    <div id="totalAmount" class="total-display">0</div>
                </div>
                
                <!-- 🛠️ حقل نوع الخدمة -->
                <div class="form-group">
                    <label>نوع الخدمة *</label>
                    <select id="serviceType" required>
                        <option value="">اختر الخدمة</option>
                    </select>
                </div>
                
                <!-- 📍 حقل المنطقة -->
                <div class="form-group">
                    <label>المنطقة *</label>
                    <select id="region" required>
                        <option value="">اختر المنطقة</option>
                    </select>
                </div>
                
                <!-- 🔘 أزرار الإجراءات -->
                <div class="modal-actions">
                    <!-- 💾 زر حفظ الطلب -->
                    <button type="submit" class="btn-primary">💾 حفظ الطلب</button>
                    <!-- ❌ زر إلغاء -->
                    <button type="button" class="btn-danger" id="closeModalBtn">❌ إلغاء</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ════════════════════════════════════════════════════════════════ -->
    <!-- 🔧 Service Worker - لدعم PWA -->
    <!-- ════════════════════════════════════════════════════════════════ -->
    
    <script>
        // تسجيل Service Worker للتطبيق
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').then(reg => {
                console.log('✅ Service Worker مسجل بنجاح');
            }).catch(err => {
                console.log('⚠️ فشل تسجيل Service Worker:', err);
            });
        }
    </script>

    <!-- ════════════════════════════════════════════════════════════════ -->
    <!-- 📜 استدعاء ملف JavaScript الخارجي (app.js) -->
    <!-- ════════════════════════════════════════════════════════════════ -->
    <!-- ✅ هنا نستدعي ملف app.js الذي يحتوي على كل الوظائف الرئيسية -->
    <!-- ✅ هذا هو الحل الصحيح - لا يوجد كود JavaScript مكتوب مباشرة هنا -->
    
    <script src="app.js"></script>

</body>
</html>